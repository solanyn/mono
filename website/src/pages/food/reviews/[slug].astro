---
import type { GetStaticPathsResult } from 'astro';
import { getCollection, render } from 'astro:content';
import ReviewLayout from '../../../layouts/ReviewLayout.astro';

export async function getStaticPaths(): Promise<GetStaticPathsResult> {
	const reviews = await getCollection('reviews');
	return reviews.map((review) => ({
		params: { slug: review.id },
		props: review,
	}));
}

const review = Astro.props;
const { Content } = await render(review);
---

<ReviewLayout {...review.data} slug={review.id}>
	<Content />
</ReviewLayout>
